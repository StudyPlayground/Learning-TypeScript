# CHAPTER 2 타입 시스템

## 2.1 타입의 종류

- `타입`이란 자바스크립트에서 다루는 값의 형태에 대한 설명입니다.
  - `형태`란 값에 존재하는 속성과 메서드 그리고 내장되어 있는 typeof 연산자가 설명하는 것을 의미합니다.
- 타입스크립트의 가장 기본적인 타입은 자바스크립트의 7가지 기본 원시 타입과 동일합니다.
  - null
  - undefined
  - boolean
  - string
  - number
  - bigint
  - symbol
- 타입 시스템
  - 프로그래밍 언어가 프로그램에서 가질 수 있는 타입을 이해하는 방법에 대한 규칙 집합입니다.
  - 기본적으로 타입스크립트의 타입 시스템은 다음과 같이 작동합니다.
    1. 코드를 읽고 존재하는 모든 타입과 값을 이해합니다.
    2. 각 값이 초기 선언에서 가질 수 있는 타입을 확인합니다.
    3. 각 값이 추후 코드에서 어떻게 사용될 수 있는지 모든 방법을 확인합니다.
    4. 값의 사용법이 타입과 일치하지 않으면 사용자에게 오류를 표시합니다.
- 오류 종류
  - `구문 오류` : 타입스크립트가 자바스크립트로 변환되는 것을 차단한 경우
    - 타입스크립트가 코드로 이해할 수 없는 잘못된 구문을 감지할 때 발생합니다.
    - 컴파일은 되지만 예상과 상당히 다를 수 있다.
    ```jsx
    // .ts
    let let wat;

    // .js
    let let, wat;
    ```
  - `타입 오류` : 타입 검사기에 따라 일치하지 않는 것이 감지된 경우
    - 타입스크립트의 타입 검사기가 프로그램의 타입에서 오류를 감지했을 때 발생합니다.
    ```jsx
    // .ts
    console.blub("typescript");

    // .js
    console.blub("typescript");
    ```

## 2.2 할당 가능성

- 타입스크립트는 변수의 초기값을 읽고 해당 변수가 허용되는 타입을 결정합니다. 나중에 해당 변수에 새로운 값이 할당되면, 새롭게 할당된 값의 타입이 변수의 타입과 동일한지 확인합니다.
- 타입스크립트에서 함수 호출이나 변수에 값을 제공할 수 있는지 여부를 확인하는 것을 `할당 가능성`이라고 합니다.
- `Type…is not assignable to type…` 형태의 오류는 타입스크립트 코드를 작성할 대 만나게 되는 가장 일반적인 오류 중 하나입니다.
  - 해당 오류 메시지에서 언급된 첫 번째 type은 코드에서 변수에 할당하려고 시도하는 값입니다.
  - 두 번째 type은 첫 번째 타입, 즉 값이 할당되는 변수입니다.

## 2.3 타입 애너테이션

- 때로는 변수에 타입스크립트가 읽어야 할 초깃값이 없는 경우도 있습니다. 타입스크립트는 나중에 사용할 변수의 초기 타입을 파악하려고 시도하지 않습니다. 그리고 기본적으로 변수를 암묵적인 `any 타입`으로 간주합니다.
  ```jsx
  // .ts
  let name; // any type
  ```
- 초기 타입을 유추할 수 없는 변수는 `진화하는 any`라고 부릅니다. 특정 타입을 강제하는 대신 새로운 값이 할당 될 때마다 변수 타입에 대한 이해를 발전시킵니다.
- 타입스크립트는 초깃값을 할당하지 않고도 변수의 타입을 선언할 수 있는 구문인 `Type Annotation`을 제공합니다.
  ```jsx
  let name: string; // string type;
  ```

## 2.4 타입 형태

- 타입스크립트는 변수에 할당된 값이 원래 타입과 일치하는지 확인하는 것 이외에도 `접근하려는 속성이 해당 변수의 타입에 존재하는지` 확인합니다.
- 모듈
  - 모듈 : export 또는 import가 있는 파일
    - 한 모듈에서 다른 파일에 선언된 변수와 동일한 이름으로 선언된 변수는 다른 파일의 변수를 가져오지 않는 한 이름 충돌로 간주하지 않습니다.
  - 스크립트 : 모듈이 아닌 모든 파일
    - 파일이 스크립트면 타입스크립트는 해당 파일을 `전역 스코프`로 간주하므로 모든 스크립트가 파일의 내용에 접근할 수 있습니다. 즉, 스크립트 파일에 선언된 변수는 다른 스크립트 파일에 선언된 변수와 동일한 이름을 가질 수 없습니다.
  - 타입스크립트 파일에 `Cannot redeclare…` 라는 오류가 표시되면 파일에 아직 export 또는 import 문을 추가하지 않았기 때문일 수 잇습니다. ECMA스크립트 사양에 따라 export 또는 import 문 없이 파일을 모듈로 만들어야 한다면 파일의 아무 곳에나 `export {};`를 추가해 강제로 모듈이 되도록 만듭니다.
    ```jsx
    const shared = "Cher";

    export {};
    ```
  - 타입스크립트는 CommonJS와 같은 이전 모듈을 사용해서 작성된 타입스크립트 파일의 import, export 형태는 인식하지 못합니다. 타입스크립트는 일반적으로 CommonJS 스타일의 require 함수에서 반환된 값을 `any 타입`으로 인식합니다.

## 2.5 마치며
